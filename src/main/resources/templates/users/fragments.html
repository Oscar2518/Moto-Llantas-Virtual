<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      >
    <head th:replace="~{layout/layout :: head}">
        <link rel="stylesheet" href="css/styles.css" type="text/css"/>
        <title>Taller Llantas</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <section th:fragment="users"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Lista de Empleados del Taller</h2>
            <div class="overflow-x-auto bg-white shadow-md rounded-lg">
                <table class="min-w-full text-sm text-left text-gray-700">
                    <thead class="bg-gray-100 uppercase text-xs text-gray-600">
                    <tr>
                        <th class="px-4 py-3">Cédula</th>
                        <th class="px-4 py-3">Nombre</th>
                        <th class="px-4 py-3">Teléfono</th>
                        <th class="px-4 py-3">Correo</th>
                        <th class="px-4 py-3">Fecha</th>
                        <th class="px-4 py-3">Salario</th>
                        <th class="px-4 py-3">Rol</th>
                        <th class="px-4 py-3">Estado</th>
                        <th class="px-4 py-3">Acciones</th>
                    </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">

                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-3">12345678</td>
                        <td class="px-4 py-3">Juan Pérez</td>
                        <td class="px-4 py-3">+506 1234 5678</td>
                        <td class="px-4 py-3">juan.perez@taller.com</td>
                        <td class="px-4 py-3">01/01/2020</td>
                        <td class="px-4 py-3">₡850,000</td>
                        <td class="px-4 py-3">Mecánico</td>
                        <td class="px-4 py-3"><span class="inline-block bg-green-200 text-green-800 text-xs px-2 py-1 rounded-full">Activo</span></td>
                        <td class="px-4 py-3 space-x-2">
                            <button onclick="openModal()" class="text-blue-600 hover:text-blue-800 transition"><i class="fas fa-edit"></i></button>
                            <button class="text-red-600 hover:text-red-800 transition"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>

                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-3">87654321</td>
                        <td class="px-4 py-3">Laura Ramírez</td>
                        <td class="px-4 py-3">+506 9876 5432</td>
                        <td class="px-4 py-3">laura.ramirez@taller.com</td>
                        <td class="px-4 py-3">15/03/2021</td>
                        <td class="px-4 py-3">₡720,000</td>
                        <td class="px-4 py-3">Recepcionista</td>
                        <td class="px-4 py-3"><span class="inline-block bg-yellow-200 text-yellow-800 text-xs px-2 py-1 rounded-full">Vacaciones</span></td>
                        <td class="px-4 py-3 space-x-2">
                            <button onclick="openModal()" class="text-blue-600 hover:text-blue-800 transition"><i class="fas fa-edit"></i></button>
                            <button class="text-red-600 hover:text-red-800 transition"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>

                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-3">11223344</td>
                        <td class="px-4 py-3">Carlos Jiménez</td>
                        <td class="px-4 py-3">+506 5566 7788</td>
                        <td class="px-4 py-3">carlos.jimenez@taller.com</td>
                        <td class="px-4 py-3">10/06/2019</td>
                        <td class="px-4 py-3">₡930,000</td>
                        <td class="px-4 py-3">Supervisor</td>
                        <td class="px-4 py-3"><span class="inline-block bg-green-200 text-green-800 text-xs px-2 py-1 rounded-full">Activo</span></td>
                        <td class="px-4 py-3 space-x-2">
                            <button onclick="openModal()" class="text-blue-600 hover:text-blue-800 transition"><i class="fas fa-edit"></i></button>
                            <button class="text-red-600 hover:text-red-800 transition"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>

                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-3">55667788</td>
                        <td class="px-4 py-3">Natalia Vargas</td>
                        <td class="px-4 py-3">+506 2233 4455</td>
                        <td class="px-4 py-3">natalia.vargas@taller.com</td>
                        <td class="px-4 py-3">28/09/2022</td>
                        <td class="px-4 py-3">₡650,000</td>
                        <td class="px-4 py-3">Ayudante</td>
                        <td class="px-4 py-3"><span class="inline-block bg-red-200 text-red-800 text-xs px-2 py-1 rounded-full">Inactivo</span></td>
                        <td class="px-4 py-3 space-x-2">
                            <button onclick="openModal()" class="text-blue-600 hover:text-blue-800 transition"><i class="fas fa-edit"></i></button>
                            <button class="text-red-600 hover:text-red-800 transition"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>

            <!-- Model -->
            <div id="editUserModal" class="fixed inset-0 backdrop-blur-sm bg-white/30 hidden items-center justify-center z-50">
            <div class="bg-white rounded-xl shadow-lg max-w-md w-full p-6 relative animate-fade-in border border-gray-200">
                    <button onclick="closeModal()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-lg">
                        <i class="fas fa-times"></i>
                    </button>
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Editar Usuario</h3>
                    <form>
                        <div class="mb-4">
                            <label for="editUsername" class="block text-sm font-medium text-gray-700">Nombre de Usuario</label>
                            <input type="text" id="editUsername" class="mt-1 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm">
                        </div>
                        <div class="mb-4">
                            <label for="editEmail" class="block text-sm font-medium text-gray-700">Correo Electrónico</label>
                            <input type="email" id="editEmail" class="mt-1 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm">
                        </div>
                        <div class="mb-4">
                            <label for="editPassword" class="block text-sm font-medium text-gray-700">Contraseña</label>
                            <input type="password" id="editPassword" class="mt-1 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm">
                        </div>
                        <div class="flex justify-end space-x-2">
                            <button type="button" onclick="closeModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md text-sm">Cerrar</button>
                            <button type="submit" class="bg-yellow-400 hover:bg-yellow-500 text-white px-4 py-2 rounded-md text-sm">Guardar</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>


        <section th:fragment="userProfile" class="mt-16 mb-16">
            <div class="bg-white rounded-3xl shadow-xl p-10 max-w-5xl w-full mx-auto border border-gray-200">
                <div class="flex flex-col lg:flex-row gap-10">
                    <!-- panel -->
                    <aside class="w-full lg:w-1/3 border-r lg:pr-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-cog mr-2 text-gray-600"></i> Configuraciones
                        </h3>
                        <ul class="space-y-3 text-sm text-blue-600 font-medium">
                            <a href="/" class="text-blue-600 hover:text-blue-800 font-semibold mb-4 inline-flex items-center">
                                <i class="fas fa-arrow-left mr-2"></i> Volver al inicio
                            </a>
                            <li>
                                <a href="#" class="flex items-center hover:text-blue-800 transition">
                                    <i class="fas fa-bell mr-2"></i> Notificaciones
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center hover:text-blue-800 transition">
                                    <i class="fas fa-shield-alt mr-2"></i> Seguridad y privacidad
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center hover:text-blue-800 transition">
                                    <i class="fas fa-language mr-2"></i> Preferencias de idioma
                                </a>
                            </li>

                            <form th:action="@{/user/delete}" method="post" onsubmit="return confirm('¿Estás seguro de que deseas eliminar tu cuenta? Esta acción no se puede deshacer.');">

                                <!--delete account -->
                                <div class="flex justify-start pt-6">
                                    <button type="submit"
                                            class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-xl transition duration-200 shadow-md hover:shadow-lg">
                                        <i class="fas fa-trash-alt mr-2"></i> Eliminar cuenta
                                    </button>
                                </div>

                            </form>

                        </ul>
                    </aside>

                    <!-- profile -->
                    <div class="w-full lg:w-2/3">
                        <!-- title -->
                        <div class="flex items-center mb-8">
                            <i class="fas fa-user-circle text-blue-600 text-4xl mr-4"></i>
                            <h2 class="text-3xl font-extrabold text-gray-800">Tu perfil</h2>
                        </div>


                        <form th:action="@{/user/update}" method="post" class="space-y-6">
                            <!-- name -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
                                <div class="flex items-center border rounded-xl px-4 py-2 bg-gray-50 shadow-sm">
                                    <i class="fas fa-user text-gray-500 mr-3"></i>
                                    <input type="text" name="fullName" th:value="${user.fullName}"
                                           class="w-full bg-transparent outline-none text-gray-900 placeholder-gray-400"/>
                                </div>
                            </div>

                            <!-- Identification -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Identificación</label>
                                <div class="flex items-center border rounded-xl px-4 py-2 bg-gray-100 shadow-inner">
                                    <i class="fas fa-id-card text-gray-400 mr-3"></i>
                                    <input type="text" th:value="${user.identification}"
                                           class="w-full bg-transparent outline-none text-gray-500 cursor-not-allowed"
                                           disabled/>
                                </div>
                            </div>

                            <!-- email -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Correo electrónico</label>
                                <div class="flex items-center border rounded-xl px-4 py-2 bg-gray-100 shadow-inner">
                                    <i class="fas fa-envelope text-gray-400 mr-3"></i>
                                    <input type="email" th:value="${user.email}" readonly
                                           class="w-full bg-transparent outline-none text-gray-500 cursor-not-allowed"/>
                                </div>
                            </div>

                            <!-- change password -->
                            <div class="pt-6 border-t border-gray-200">
                                <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                                    <i class="fas fa-lock mr-2 text-indigo-600"></i> Cambiar Contraseña
                                </h3>

                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <!-- password now -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actual</label>
                                        <div class="flex items-center border rounded-xl px-4 py-2 bg-gray-100 shadow-inner">
                                            <i class="fas fa-key text-gray-400 mr-3"></i>
                                            <input type="password" placeholder="********" name="currentPassword"
                                                   class="w-full bg-transparent outline-none text-gray-500"
                                                   required />
                                        </div>
                                    </div>

                                    <!-- new password -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Nueva</label>
                                        <div class="flex items-center border rounded-xl px-4 py-2 bg-gray-50 shadow-sm">
                                            <i class="fas fa-unlock-alt text-gray-500 mr-3"></i>
                                            <input type="password" placeholder="Nueva contraseña" name="newPassword"
                                                   class="w-full bg-transparent outline-none text-gray-900" />
                                        </div>
                                    </div>

                                    <!-- confirm password -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Confirmar</label>
                                        <div class="flex items-center border rounded-xl px-4 py-2 bg-gray-50 shadow-sm">
                                            <i class="fas fa-check text-gray-500 mr-3"></i>
                                            <input type="password" placeholder="Confirmar" name="confirmNewPassword"
                                                   class="w-full bg-transparent outline-none text-gray-900" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- button -->
                            <div class="flex justify-end pt-6">
                                <button type="submit"
                                        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-xl transition duration-200 shadow-md hover:shadow-lg">
                                    <i class="fas fa-save mr-2"></i> Guardar cambios
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>







    </body>
</html>
